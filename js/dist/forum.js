module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=9)}([function(e,t){e.exports=flarum.core.compat["forum/app"]},function(e,t,r){"use strict";var n=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,a=0,o=t.length;a<o;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.isTraversal=void 0;var a=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,o=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,i=new Map([["~","element"],["^","start"],["$","end"],["*","any"],["!","not"],["|","hyphen"]]),s={">":"child","<":"parent","~":"sibling","+":"adjacent"},c={"#":["id","equals"],".":["class","element"]},l=new Set(["has","not","matches","is","where","host","host-context"]),u=new Set(n(["descendant"],Object.keys(s).map((function(e){return s[e]})),!0)),f=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function p(e){return u.has(e.type)}t.isTraversal=p;var d=new Set(["contains","icontains"]),h=new Set(['"',"'"]);function m(e,t,r){var n=parseInt(t,16)-65536;return n!=n||r?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)}function v(e){return e.replace(o,m)}function y(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function g(e,t){if(e.length>0&&0===t.length)throw new Error("Empty sub-selector");e.push(t)}t.default=function(e,t){var r=[],n=function e(t,r,n,o){var u,m;void 0===n&&(n={});var b=[],w=!1;function A(e){var t=r.slice(o+e).match(a);if(!t)throw new Error("Expected name, found "+r.slice(o));var n=t[0];return o+=e+n.length,v(n)}function x(e){for(;y(r.charAt(o+e));)e++;o+=e}function _(e){for(var t=0;"\\"===r.charAt(--e);)t++;return 1==(1&t)}function j(){if(b.length>0&&p(b[b.length-1]))throw new Error("Did not expect successive traversals.")}x(0);for(;""!==r;){var C=r.charAt(o);if(y(C))w=!0,x(1);else if(C in s)j(),b.push({type:s[C]}),w=!1,x(1);else if(","===C){if(0===b.length)throw new Error("Empty sub-selector");t.push(b),b=[],w=!1,x(1)}else if(r.startsWith("/*",o)){var O=r.indexOf("*/",o+2);if(O<0)throw new Error("Comment was not terminated");o=O+2}else if(w&&(j(),b.push({type:"descendant"}),w=!1),C in c){var E=c[C],S=E[0],P=E[1];b.push({type:"attribute",name:S,action:P,value:A(1),namespace:null,ignoreCase:!!n.xmlMode&&null})}else if("["===C){x(1);var M=null;"|"===r.charAt(o)&&(M="",o+=1),r.startsWith("*|",o)&&(M="*",o+=2);var L=A(0);null===M&&"|"===r.charAt(o)&&"="!==r.charAt(o+1)&&(M=L,L=A(1)),(null!==(u=n.lowerCaseAttributeNames)&&void 0!==u?u:!n.xmlMode)&&(L=L.toLowerCase()),x(0);P="exists";var k=i.get(r.charAt(o));if(k){if(P=k,"="!==r.charAt(o+1))throw new Error("Expected `=`");x(2)}else"="===r.charAt(o)&&(P="equals",x(1));var q="",N=null;if("exists"!==P){if(h.has(r.charAt(o))){for(var T=r.charAt(o),W=o+1;W<r.length&&(r.charAt(W)!==T||_(W));)W+=1;if(r.charAt(W)!==T)throw new Error("Attribute value didn't end");q=v(r.slice(o+1,W)),o=W+1}else{for(var B=o;o<r.length&&(!y(r.charAt(o))&&"]"!==r.charAt(o)||_(o));)o+=1;q=v(r.slice(B,o))}x(0);var F=r.charAt(o);"s"===F||"S"===F?(N=!1,x(1)):"i"!==F&&"I"!==F||(N=!0,x(1))}if(n.xmlMode||null!=N||(N=f.has(L)),"]"!==r.charAt(o))throw new Error("Attribute selector didn't terminate");o+=1;var D={type:"attribute",name:L,action:P,value:q,namespace:M,ignoreCase:N};b.push(D)}else if(":"===C){if(":"===r.charAt(o+1)){b.push({type:"pseudo-element",name:A(2).toLowerCase()});continue}var z=A(1).toLowerCase(),I=null;if("("===r.charAt(o))if(l.has(z)){if(h.has(r.charAt(o+1)))throw new Error("Pseudo-selector "+z+" cannot be quoted");if(o=e(I=[],r,n,o+1),")"!==r.charAt(o))throw new Error("Missing closing parenthesis in :"+z+" ("+r+")");o+=1}else{for(var U=o+=1,$=1;$>0&&o<r.length;o++)"("!==r.charAt(o)||_(o)?")"!==r.charAt(o)||_(o)||$--:$++;if($)throw new Error("Parenthesis not matched");if(I=r.slice(U,o-1),d.has(z)){var G=I.charAt(0);G===I.slice(-1)&&h.has(G)&&(I=I.slice(1,-1)),I=v(I)}}b.push({type:"pseudo",name:z,data:I})}else{M=null;var H=void 0;if("*"===C)o+=1,H="*";else{if(!a.test(r.slice(o)))return b.length&&"descendant"===b[b.length-1].type&&b.pop(),g(t,b),o;"|"===r.charAt(o)&&(M="",o+=1),H=A(0)}"|"===r.charAt(o)&&(M=H,"*"===r.charAt(o+1)?(H="*",o+=2):H=A(1)),"*"===H?b.push({type:"universal",namespace:M}):((null!==(m=n.lowerCaseTags)&&void 0!==m?m:!n.xmlMode)&&(H=H.toLowerCase()),b.push({type:"tag",name:H,namespace:M}))}}return g(t,b),o}(r,""+e,t,0);if(n<e.length)throw new Error("Unmatched selector: "+e.slice(n));return r}},function(e,t){e.exports=flarum.core.compat["common/extend"]},function(e,t){e.exports=flarum.core.compat["forum/components/NotificationList"]},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=t.parse=void 0,a(r(1),t);var i=r(1);Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return o(i).default}});var s=r(8);Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o(s).default}})},function(e,t){e.exports=flarum.core.compat["common/components/Tooltip"]},function(e,t){e.exports=flarum.core.compat["common/components/Button"]},function(e,t){e.exports=flarum.core.compat["forum/states/NotificationListState"]},function(e,t,r){"use strict";var n=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,a=0,o=t.length;a<o;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var a={equals:"",element:"~",start:"^",end:"$",any:"*",not:"!",hyphen:"|"},o=new Set(n(n([],Object.keys(a).map((function(e){return a[e]})).filter(Boolean),!0),[":","[","]"," ","\\","(",")","'"],!1));function i(e){return e.map(s).join(", ")}function s(e){return e.map(c).join("")}function c(e){switch(e.type){case"child":return" > ";case"parent":return" < ";case"sibling":return" ~ ";case"adjacent":return" + ";case"descendant":return" ";case"universal":return u(e.namespace)+"*";case"tag":return l(e);case"pseudo-element":return"::"+f(e.name);case"pseudo":return null===e.data?":"+f(e.name):"string"==typeof e.data?":"+f(e.name)+"("+f(e.data)+")":":"+f(e.name)+"("+i(e.data)+")";case"attribute":if("id"===e.name&&"equals"===e.action&&!e.ignoreCase&&!e.namespace)return"#"+f(e.value);if("class"===e.name&&"element"===e.action&&!e.ignoreCase&&!e.namespace)return"."+f(e.value);var t=l(e);return"exists"===e.action?"["+t+"]":"["+t+a[e.action]+"='"+f(e.value)+"'"+(e.ignoreCase?"i":!1===e.ignoreCase?"s":"")+"]"}}function l(e){return""+u(e.namespace)+f(e.name)}function u(e){return null!==e?("*"===e?"*":f(e))+"|":""}function f(e){return e.split("").map((function(e){return o.has(e)?"\\"+e:e})).join("")}t.default=i},function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(2),i=r(3),s=r.n(i),c=r(4);function l(e,t,r){return function e(t,r,n){var a;a=Array.isArray(t)?t:[t];var o=void 0;a.some((function(t){if("boolean"==typeof t||"number"==typeof t||"string"==typeof t||null==t)return!1;if(Array.isArray(t)){var a=e(t,r,n);return!!a&&(o=a,!0)}if(function(e,t){return t.some((function(t){return t.every((function(t){var r,n,a,o;switch(t.type){case"tag":return e.tag===t.name;case"attribute":if(!e.attrs)return!1;"class"===t.name&&(t.name="className");var i=e.attrs[t.name];switch("className"===t.name&&"string"==typeof i&&(i=i.trim()),t.ignoreCase&&"string"==typeof i&&(i=i.toLowerCase(),t.value=t.value.toLowerCase()),t.action){case"exists":return e.attrs.hasOwnProperty(t.name);case"equals":return i===t.value;case"start":return(null==(r=i)||null==r.startsWith?void 0:r.startsWith(t.value))||!1;case"end":return(null==(n=i)||null==n.endsWith?void 0:n.endsWith(t.value))||!1;case"element":return(null==(a=i)||null==a.split||null==(o=a.split(" "))||null==o.includes?void 0:o.includes(t.value))||!1}}return!1}))}))}(t,r))return o=t,!0;if(Array.isArray(t.children)){var i=e(t.children,r);return!!i&&(o=i,!0)}return!1})),n&&o&&n(o);return o}(e,Object(c.parse)(t),r)}var u=r(5),f=r.n(u),p=r(6),d=r.n(p),h=r(7),v=r.n(h);a.a.initializers.add("blomstra/notification-deleter",(function(){v.a.prototype.deleteAll=function(){var e;if(0!==this.pages.length)return null==(e=a.a.session.user)||e.pushAttributes({unreadNotificationCount:0}),this.pages=[],a.a.request({url:a.a.forum.attribute("apiUrl")+"/notifications/delete",method:"DELETE"})},Object(o.extend)(s.a.prototype,"view",(function(e){var t=this.attrs.state;l(e,".App-primaryControl",(function(e){Array.isArray(e.children)||(e.children=[e.children]),e.children.push(m(f.a,{text:a.a.translator.trans("blomstra-notification-deleter.forum.notifications.delete_all_tooltip")},m(d.a,{className:"Button Button--link","data-container":".NotificationList",icon:"fas fa-trash-alt",title:a.a.translator.trans("blomstra-notification-deleter.forum.notifications.delete_all_tooltip"),onclick:function(){confirm(a.a.translator.trans("blomstra-notification-deleter.forum.notifications.delete_all_confirm"))&&t.deleteAll.call(t)}})))}))}))}))}]);
//# sourceMappingURL=forum.js.map